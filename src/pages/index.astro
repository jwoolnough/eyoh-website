---
import Layout from "@/layouts/Layout.astro";
---

<Layout title="Home">
  <!-- TODO: DO IT WITH GRID AREAS!!! -->
  <img
    class="content__image"
    srcset="/img/crowd-epic-2000.webp 2000w"
    sizes="100vw, (min-width: 75rem) 75rem"
    alt="Eat Your Own Head playing on stage in front of an audience"
  />

  <div class="content">
    <div class="container">
      <div class="content__inner">
        <h1>New single 'Chest Pains' out now</h1>

        <p>
          We are pleased to announce our new single Chest Pains. Now available
          on all digital platforms, and our EP is available for pre-order on CD
          or vinyl
        </p>

        <ul class="actions">
          <li><a href="#" class="link">Listen</a></li>
          <li><a href="#" class="link">Pre-order</a></li>
        </ul>
      </div>
    </div>
  </div>
</Layout>

<style lang="scss">
  .content {
    display: flex;
    flex-grow: 1;
    padding: var(--header-height) 1.5rem 1.5rem;

    @include media-query(sm) {
      padding-bottom: 3rem;
    }
  }

  .container {
    display: flex;
    flex-grow: 1;
    position: relative;
  }

  .content__image {
    position: absolute;
    inset: 0;
    width: 100%;
    height: 100%;
    object-fit: contain;
    object-position: top;
    z-index: -1;
    mix-blend-mode: lighten;
    animation-timeline: scroll(root);
    animation-name: parallax;
    animation-direction: alternate;
    animation-duration: 1ms;

    @include media-query(max-sm) {
      object-position: 0 20dvh;
    }

    @include media-query(sm) {
      mask-image: linear-gradient(to top, rgba(#000, 0.5) 16rem, #000 28rem);
    }
  }

  @keyframes parallax {
    from {
      transform: translateY(0);
    }

    to {
      transform: translateY(-10px);
    }
  }

  .content__inner {
    margin-top: auto;
    max-width: 34rem;
  }

  .content__inner > * + * {
    margin-top: 0.5rem;

    @include media-query(sm) {
      margin-top: 1rem;
    }
  }

  .actions {
    display: flex;
    flex-wrap: wrap;
    gap: 1.5rem 1rem;
  }
</style>
